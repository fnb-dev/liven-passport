<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <title>Liven passport</title>
    <link rel="stylesheet" href="liven-passport.css">
</head>

<body>
    <div class="liven-passport-body">
            <a href="app.liven.com.au/faq" class="faq-link">FAQ</a>
            <div class="cloud left">
                <img src="cloud-left.svg" alt="Cloud left">
            </div>
            <div class="lead">
                <div class="icon-wrap">
                    <img src="passport-icon.svg" alt="Liven passport icon" class="liven-passport-icon">
                    <div id="svgContainer"></div>
                </div>
                <div class="checking-text">Securely checking you in...</div>
                <img src="Liven-Passport-text.svg" alt="Liven passport text" class="liven-passport-text">
                <h4>Securely check-in to <br> Calia - Chadstone</h4>
            </div>
            <div class="cloud right">
                <img src="cloud-right.svg" alt="Cloud right">
            </div>
            <div class="city-img"><img src="city.svg" alt="City image"></div>
            <div class="success-message">Enjoy earning rewards when you pay with Liven at checkout!</div>
            <ul class="trigering-wrap">
                <li class="d-flex trigering-item">
                    <p>I have <span class="count-dependince" id="count-dependince">0</span> dependents with me</p>
                    <div class="dependents-triger">
                        <div class="dicrease" id="dicrease"></div>
                        <div class="increase" id="increase"></div>
                    </div>
                </li>
                <li class="d-flex trigering-item">
                    <p>Notify me about exclusive Calia offers</p>
                    <div class="switch">
                        <input type="checkbox" name="notify" id="notify" checked>
                        <label for="notify" class="slider round"></label>
                    </div>
                </li>
            </ul>
            <button class="slide-to-confirm">
                <span class="button-text">Slide to confirm</span>
                <span class="slideTriger"></span>
            </button>
            <div class="note-text">
                I declare my details with Liven are correct &amp; <br> I am not currently suffering flu-like symptoms.
            </div>
        </div>
    <script src="jquery-3.5.1.min.js"></script>
    <script src="lottie.js"></script>
    <script>
        (function($){
            $(function(){ 

                var n = 0;
                                
                $("#dicrease").on("click", function(){
                    if(n>0){
                        n--;
                        $('#count-dependince').html(n);
                    }
                    if(n==0){
                        $("#dicrease").removeClass("active");
                    }
                });
                
                $("#increase").on("click", function(){
                    if(n>=0){
                        n++;
                        $('#count-dependince').html(n);
                    }
                    if(n>0){
                        $("#dicrease").addClass("active");
                    }
                });
                
                $("#notify").on("change", function(){
                    if(this.checked) {
                        // var returnVal = confirm("Are you sure?");
                        // $(this).prop("checked", returnVal);
                    }
                });
        
                // Lottie function
                var svgContainer = document.getElementById('svgContainer');
                var animItem = bodymovin.loadAnimation({
                  wrapper: svgContainer,
                  renderer: 'svg',
                  autoplay: false,
                  animType: 'svg',
                  loop: false,
                  path: 'liven-loader.json',
                  rendererSettings: {
                      onComplete: function(){
                          console.log("Worked")
                      }
                  }
                });
                
                animItem.onComplete = function() {
                  console.log('complete')
                    $(".trigering-wrap").fadeOut(function(){
                        $(".success-message").show();
                    });
                    $('body').removeClass("checking");
                    $(".lead h4").html("<span>Easy as pie! </span> Enjoy your time at <br> Calia - Chadstone");
                    $(".liven-passport-body").addClass("complete")
                    $(".slide-to-confirm").addClass("completed").find(".button-text").text("Continue");
                }
                
                $(".slide-to-confirm").on("click", function(e){
                    e.preventDefault();
                    $('body').addClass("checking");
                    $(this).addClass("sliding").find(".button-text").text("Confirmed "+ n +" persons");
                    
                    $(".icon-wrap").addClass("show");
                    lottie.play();
                    setTimeout(function(){
                        $(".slide-to-confirm").removeClass("sliding");
                        $(".slide-to-confirm").addClass("completed");
                        $(".slideTriger").fadeOut(500);
                    }, 600);
                    
                    var btnWidth = $(this).outerWidth();
                    var sTrigerWidth = $(".slideTriger").outerWidth();
                    var moVelength = btnWidth - sTrigerWidth;
                    
                    $(".slideTriger").delay(600).animate({
                        //left: moVelength,
                    }, 500, function(){
                    });
                })
                
                
            }); //End Ready function
        })(jQuery)
        
    </script>
</body>
</html>
